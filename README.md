# Network Monitoring Stack - Prometheus, Grafana, and AlertManager

This project demonstrates a comprehensive network monitoring stack using **Prometheus**, **Grafana**, and **AlertManager** to collect, visualize, and manage alerts for system metrics.

# Centralized Monitoring with Prometheus, Grafana, and AlertManager

## Overview

A **centralized monitoring system** is essential for system administrators and DevOps teams to effectively manage, analyze, and visualize metrics from multiple servers, applications, or client nodes. This system consolidates data collection from various sources into a single platform, providing insights that facilitate proactive system management and troubleshooting.

## Key Components

### 1. Prometheus
Prometheus is an open-source monitoring and alerting toolkit widely used for gathering metrics from various endpoints. It operates on a **pull model**, scraping metrics from configured targets at regular intervals. Prometheus stores these metrics in a **time-series database**, making it easy to query and analyze data over time.

### 2. Grafana
Grafana is a powerful visualization and analytics tool that integrates with Prometheus and other data sources. It allows you to create customizable dashboards and visual representations of the data collected by Prometheus. Grafana enables teams to gain better insights into system performance and health.

### 3. Node Exporter
Node Exporter is a Prometheus exporter designed to expose hardware and OS metrics from client nodes. By running Node Exporter on each client machine, Prometheus can scrape metrics such as CPU usage, memory consumption, disk I/O, and network statistics, centralizing them for analysis and visualization.

### 4. AlertManager
**AlertManager** is an essential component of Prometheus that handles alerts generated by Prometheus when certain conditions are met. AlertManager manages the routing and delivery of these alerts to various destinations such as email, Slack, or PagerDuty. It allows you to define **alerting rules** in Prometheus, ensuring that administrators are notified when system issues arise or thresholds are breached.

#### Features:
- **Alert Routing**: Define custom routes for different alerts based on severity or other labels.
- **Alert Silencing**: Temporarily mute alerts during maintenance or known downtime.
- **Grouping**: Combine similar alerts into a single notification to reduce alert fatigue.

## Centralized Monitoring System Setup

In a centralized monitoring setup, we install **Prometheus** on a centralized server (master node) to monitor multiple client nodes. The client nodes run **Node Exporter** to expose their system metrics, which Prometheus scrapes and stores for visualization in Grafana. **AlertManager** ensures administrators are notified of any critical issues in real-time.

### Workflow:

1. Install and configure **Prometheus** on the centralized monitoring server.
2. Install and configure **Node Exporter** on each client node to expose metrics.
3. Set up **Grafana** for visualization by adding Prometheus as a data source and creating dashboards to view system metrics.
4. Configure **AlertManager** to handle alerts triggered by Prometheus when specified conditions are met.

### Benefits:
- **Unified Monitoring**: Monitor all your nodes from a single, centralized platform.
- **Real-time Metrics**: View real-time system metrics such as CPU, memory, disk I/O, and network usage.
- **Custom Dashboards**: Create visual dashboards in Grafana for a better understanding of your system's performance.
- **Proactive Alerting**: Ensure timely notification of system failures or performance issues through AlertManager.

## Installation Guide





## 2. Prerequisites

Before you begin the installation, ensure that the following prerequisites are in place:

- **Operating System**: The setup can be done on **Linux** (e.g., Ubuntu, CentOS), **Windows**, or **Docker**. This guide uses **Linux (Ubuntu 20.04 or 22.04)** as an example.
- **Root or Sudo Access**: You’ll need **administrative privileges** to install packages and configure services.
- **Basic Networking Knowledge**: Make sure you know how to access your system via IP, as these tools will run on specific ports.





# Project Setup

### 1. Prometheus Setup

#### Step 1: Install Prometheus

Download and install Prometheus on your centralized monitoring server:

```yml
           wget https://github.com/prometheus/prometheus/releases/download/v2.32.0/prometheus-2.32.0.linux-amd64.tar.gz
            tar xvf prometheus-2.32.0.linux-amd64.tar.gz
            cd prometheus-2.32.0.linux-amd64
 ```


Step 2: Configure Prometheus
Edit the prometheus.yml file to scrape metrics from client nodes:


```yml
         scrape_configs:
          - job_name: 'node_exporter'
            scrape_interval: 15s
            static_configs:
              - targets: ['<client_node_1>:9100', '<client_node_2>:9100'].
```

##### Replace <client_node_1> and <client_node_2> with the actual IPs of your client nodes.

Step 3: Start Prometheus

```yml
          ./prometheus --config.file=prometheus.yml
```

### 2. Node Exporter Setup (Client Nodes)
#####  Install Node Exporter on each client node to expose system metrics:

```yml

        wget https://github.com/prometheus/node_exporter/releases/download/v1.3.1/node_exporter-1.3.1.linux-amd64.tar.gz
        tar xvf node_exporter-1.3.1.linux-amd64.tar.gz
        cd node_exporter-1.3.1.linux-amd64
        ./node_exporter

```

### 3. Grafana Setup (Visualization)

##### Step 1: Install Grafana
##### Download and install Grafana:

```yml

     sudo apt-get install -y grafana
     sudo systemctl start grafana-server

```

##### Step 2: Configure Grafana

```yml
Access Grafana: http://<server_IP>:3000

Default login:

Username: admin

Password: admin

Add Prometheus as a data source:

Go to Settings → Data Sources

Select Prometheus and use http://localhost:9090 as the URL.

Create dashboards to visualize metrics like CPU, memory, and disk usage.

```

### 4. AlertManager Setup (Alerts)
Step 1: Install AlertManager
Download and install AlertManager:

```yml

    wget https://github.com/prometheus/alertmanager/releases/download/v0.23.0/alertmanager-0.23.0.linux-amd64.tar.gz
    tar xvf alertmanager-0.23.0.linux-amd64.tar.gz
    cd alertmanager-0.23.0.linux-amd64

```

Step 2: Configure AlertManager
Edit the alertmanager.yml configuration file to set up alert receivers (email, Slack, etc.).

Step 3: Integrate with Prometheus

Modify prometheus.yml to include AlertManager:

```yml

    alerting:
      alertmanagers:
        - static_configs:
          - targets: ['localhost:9093']

```


Step 4: Define Alert Rules
Create alert rules in alert.rules.yml:

```yml

    groups:
      - name: alert.rules
        rules:
          - alert: HighCPUUsage
            expr: node_cpu_seconds_total{mode="idle"} < 10
            for: 1m
            labels:
              severity: critical
            annotations:
              summary: "High CPU Usage"
              description: "CPU usage is above threshold."

Load the rules into Prometheus:

      ./prometheus --config.file=prometheus.yml --web.enable-lifecycle

```


5.Generate dummy load using stress-ng package:

      stress-ng --cpu 4 --timeout 60s --metrics-brief



### How to Run

1.Start Prometheus:

    ./prometheus --config.file=prometheus.yml

2.Start Node Exporter on each client node: 
   
      ./node_exporter
      
3.Start Grafana:

     sudo systemctl start grafana-server

4.Start AlertManager:   

    ./alertmanager --config.file=alertmanager.yml

### Access
Prometheus: http://<server_IP>:9090

Grafana: http://<server_IP>:3000

AlertManager: http://<server_IP>:9093


## Conclusion

This setup provides a full-stack network monitoring solution using Prometheus for metrics collection, Grafana for visualization, and AlertManager for alerting.
      
 


            
            
            
          



### Screenshots

Below is a screenshot demonstrating the working of the project:

 #### 1. --------------------------------------------Grafana Running on Terminal----------------------------------
 
![Grafana](/screenshorts/grafana_terminal.png)

 #### 2. ---------------------------------------------promethises Running on Terminal-----------------------------
 
![Grafana](/screenshorts/promethises_terminal.png)


 #### 3. ---------------------------------------------Alertmanager Running on Terminal------------------------------
 
![Grafana](/screenshorts/alertmanager_terminal.png)



 #### 4. --------------------------------------------Node_exporter Running on Terminal----------------------------
 
![Grafana](/screenshorts/node_exporter_terminal.png)




 #### 5. ---------------------------------------------Grafana Running on localhost-------------------------------
 
![Grafana](/screenshorts/grafana___terminal.png)




 #### 6. -------------------------------------------Node_exporter Running on localhost------------------------------------
 
![Grafana](/screenshorts/node_exporter.png)


 #### 7. -------------------------------------------promethises Running on localhost----------------------------------------
 
![Grafana](/screenshorts/rules.png)


 #### 8. ---------------------------------------------Alertmanager Running on localhost------------------------------------
 
![Grafana](/screenshorts/alertmanager.png)
     

              
 #### 9. -------------------------------------------Dummy_load running Terminal---------------------------------------------
 
![Grafana](/screenshorts/dummy_load.png)


 #### 10. ---------------------------------------Targets Running on localhost-----------------------------------------------
 
![Grafana](/screenshorts/targets.png)






## Working Demo Video

https://github.com/user-attachments/assets/cb40c7bf-3fcd-475d-a0d3-bd12c5c21d17











## Summary of the Project: Centralized Monitoring with Prometheus, Grafana, and AlertManager

After completing the configuration of Prometheus, Grafana, Node Exporter, and AlertManager, the centralized monitoring system is fully set up. This system allows you to:

Monitor Multiple Nodes: Prometheus scrapes metrics from the client nodes running Node Exporter, centralizing hardware and OS data such as CPU, memory, disk I/O, and network usage.

Visualize Metrics: Grafana provides customizable dashboards where you can visualize the metrics collected by Prometheus. This enables you to get a real-time view of the performance and health of all client nodes in a single interface.

Set Up Alerts: With AlertManager, you can configure alerts based on defined thresholds. For example, an alert can be triggered if CPU utilization on any client node exceeds 50%. When this happens, the system automatically sends an alert via email or other channels configured in AlertManager.

## Proactive System Management: This monitoring solution allows system administrators and DevOps teams to respond quickly to any issues by getting notified in real-time when system thresholds are breached. This helps in maintaining system reliability, reducing downtime, and optimizing resource usage.


This dashboard provides a clear, visual overview of all your monitored systems, allowing you to track system performance and respond proactively to any potential issues.

With this setup, you can ensure that your infrastructure is continuously monitored, and alerts are triggered for quick resolution of critical issues, such as CPU overutilization or system health degradation.

Below is an screnshort , we get when alert occurs by alertmanager:


![Grafana](/screenshorts/mail.jpg)

















<br>
<br>
<br>
<br>



**👨‍💻 𝓒𝓻𝓪𝓯𝓽𝓮𝓭 𝓫𝔂**: [Suraj Kumar Choudhary](https://github.com/Surajkumar4-source) | 📩 **𝓕𝓮𝓮𝓵 𝓯𝓻𝓮𝓮 𝓽𝓸 𝓓𝓜 𝓯𝓸𝓻 𝓪𝓷𝔂 𝓱𝓮𝓵𝓹**: [csuraj982@gmail.com](mailto:csuraj982@gmail.com)





<br>
